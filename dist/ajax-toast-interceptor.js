"use strict";var _izitoast=_interopRequireDefault(require("izitoast"));require("izitoast/dist/css/iziToast.css");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}(function(a){XMLHttpRequest.prototype.open=function(){this.addEventListener("load",function(){if(window.location.hostname===new URL(this.responseURL).hostname){var a;if(200<=this.status&&400>this.status&&(a=this.responseText,a="string"==typeof a?JSON.parse(a):a,"undefined"!=typeof a.callback&&"reload"===a.callback&&window.location.reload(!0),"undefined"!=typeof a.flash&&a.flash&&"undefined"!=typeof a.message))return _izitoast["default"].success({title:a.title||"Success",message:a.message||a||"",position:"bottomRight"});if(400<=this.status){try{a=JSON.parse(this.responseText)}catch(b){a=this.responseText}var b="";if("undefined"!=typeof a.flash&&!1===a.flash)return;"undefined"==typeof a.message?"undefined"!=typeof a&&(b=a.substring(0,50)):"object"===_typeof(a.message)?(b="<ul>",a.message.forEach(function(a){b+="<li>"+a+"</li>"}),b+="</ul>"):b=a.message.substring(0,50),422===this.status&&"undefined"!=typeof a.errors&&"object"===_typeof(a.errors)&&(b+="<ul>",a.errors.forEach(function(a){b+="<li>"+a.join(", ")+"</li>"}),b+="</ul>"),_izitoast["default"].error({title:"Error",message:b,position:"bottomRight"})}}},!1),a.apply(this,arguments)}})(XMLHttpRequest.prototype.open);
